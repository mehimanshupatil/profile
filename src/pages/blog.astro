---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import BlogPost from "../components/BlogPost.astro";

const pageTitle = "My Learning Blog";
const allPosts = await getCollection("blog");
---

<BaseLayout pageTitle={pageTitle}>
  <p>This is where I will post about my journey learning about things.</p>
  <ul class="blog-grid">
    {allPosts.map((post) => <BlogPost post={post} />)}
  </ul>
</BaseLayout>

<style>
  .blog-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 2rem;
    padding: 2rem 0;
  }

  @media (max-width: 768px) {
    .blog-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }
  }
</style>
